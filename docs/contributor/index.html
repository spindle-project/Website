<html>
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="/docs/docs.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Spindle Documentation</title>
  </head>
  <body class="markdown-body">
   <div id="navBar">
     <a class="page-link" href="/" > <div id="logoMark">Spindle Contributor Docs</div></a>
      <div id="pageOptions">
         <a class="page-link" href="https://spdl.glitch.me/docs/user"
          > User Docs
        </a>
        <a class="page-link" href="https://spdl.glitch.me/docs/contributor/semiparser.html"
          > Semi-Parser
        </a>
        <a class="page-link" href="https://spdl.glitch.me/docs/contributor/parser.html"
          > Parser
        </a>
        <a class="page-link" href="https://spdl.glitch.me/docs/contributor/lexer.html"
          > Lexer
        </a>
        <a class="page-link" href="https://spdl.glitch.me/docs/contributor/interpreter.html"
          > Interpreter
        </a>
      </div>
    </div>
    <h1
      id="warningThisDocumentationIsForContributorsWhoWishToHelpOutTheProject"
    >
      Warning! This documentation is for contributors who wish to help out the
      project.
    </h1>
    <blockquote>
      <p>
        It details how the project itself works, not how to write code in it. If
        you would like to know how to write code in Spindle, please look at the
        user documentation!
        <br />
        With that out of the way, this document will lay out how Spindle works
        and will help you contribute to it. <br />
        If you want a high-level overview of how Spindle works, you&#39;re in
        just the right place!
      </p>
    </blockquote>
    <h2 id="spindleFromCodeToExecution">Spindle: From Code to Execution</h2>
    <p>
      This explanation dives into how Spindle, a programming language, works
      behind the scenes, transforming your code into a running program. It&#39;s
      important to note that this explanation is geared towards developers
      contributing to Spindle, not for users writing Spindle code.
    </p>
    <p><strong>The Grand Tour:</strong></p>
    <p>
      Spindle&#39;s journey from code to execution involves several key stages:
    </p>
    <ol>
      <li>
        <p>
          <strong>The Warm-Up: Semi-Parsing</strong> (<strong
            >Not User-Facing</strong
          >)
        </p>
        <ul>
          <li>
            <strong>Skipping the Front-End:</strong> Spindle can run code
            directly or through a front-end file (<code>shell.py</code>). This
            documentation focuses on the direct execution path.
          </li>
          <li>
            <strong><code>RUN(&quot;&quot;)</code> Command:</strong> Spindle
            checks for a <code>RUN(&quot;&quot;)</code> command at the
            beginning. This is not part of the Spindle language itself but helps
            the desktop experience. It specifies the file to run.
          </li>
          <li>
            <strong>Standardizing <code>IF</code> Statements:</strong> Spindle
            automatically adds <code>ELSE{}</code> to any
            <code>IF</code> statements missing an <code>ELSE</code> block. This
            prevents program crashes caused by incomplete
            <code>IF</code> statements.
          </li>
          <li>
            <strong>Function Isolation:</strong> If your code contains
            functions, the semi-parser splits the code into separate chunks,
            isolating each function definition. This allows Spindle to process
            each function independently.
          </li>
        </ul>
      </li>
      <li>
        <p><strong>Step 1: The Lexer - Turning Text into Tokens</strong></p>
        <ul>
          <li>
            <strong>Character by Character:</strong> The lexer scans your code
            character by character, ignoring whitespace (tabs and spaces) but
            keeping track of newlines.
          </li>
          <li>
            <strong>Creating Tokens:</strong> It breaks down your code into
            smaller, meaningful units called tokens. These tokens represent
            keywords, identifiers (variable names), operators (like
            <code>+</code> or <code>-</code>), and literals (like numbers or
            strings).
          </li>
          <li>
            <strong>Error Checking:</strong> The lexer performs basic checks to
            ensure proper syntax for simple elements.
          </li>
        </ul>
      </li>
      <li>
        <p><strong>Step 2: The Parser - Adding Meaning to Tokens</strong></p>
        <ul>
          <li>
            <strong>Understanding the Structure:</strong> The parser takes the
            tokens generated by the lexer and analyzes them to understand the
            overall structure of your code. It recognizes different statements
            like <code>IF</code>, <code>FOR</code>, and expressions.
          </li>
          <li>
            <strong>Syntax Enforcement:</strong> The parser rigorously checks
            for syntax errors. This is where most syntax errors are detected
            during the Spindle execution process.
          </li>
          <li>
            <strong>Building the Logic:</strong> The parser essentially
            translates the token sequence into instructions for the interpreter.
            It tells Spindle how to handle different constructs like
            expressions, loops, and function calls.
          </li>
        </ul>
      </li>
      <li>
        <p>
          <strong>Step 3: The Interpreter - From Meaning to Results</strong>
        </p>
        <ul>
          <li>
            <strong>Abstract Syntax Tree (AST):</strong> The interpreter
            doesn&#39;t directly work with the token list. Instead, the parser
            creates an AST, a tree-like structure that represents the
            program&#39;s syntactic structure.
          </li>
          <li>
            <strong>Executing the Program:</strong> The interpreter navigates
            the AST, following the program&#39;s logic and performing the
            necessary actions. For example, it runs loops, evaluates
            expressions, and calls functions.
          </li>
          <li>
            <strong>Returning the Result:</strong> Upon successful execution,
            the interpreter returns the program&#39;s result. If the program
            runs without explicitly returning anything, it returns
            <code>null</code>. This <code>null</code> value is filtered out
            during presentation.
          </li>
        </ul>
      </li>
    </ol>
    <p><strong>Understanding the Process:</strong></p>
    <p>
      This breakdown helps visualize how Spindle transforms your code. Each
      stage builds upon the last, ultimately resulting in a running program. If
      you&#39;re interested in contributing to Spindle&#39;s development,
      understanding these steps is crucial for working with the interpreter and
      parser logic.
    </p>
  </body>
</html>
